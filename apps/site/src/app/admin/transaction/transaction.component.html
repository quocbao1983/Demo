<div class="!flex flex-col flex-auto min-w-0 relative bg-white">
  <div class="relative border-b-2 flex flex-row justify-between items-center p-3">
    <span class="material-icons p-2 hover:bg-gray-200 rounded-full" (click)="CloseDrawer()">
      menu
      </span>
      <div class="text-xl">Giao Dá»‹ch</div>
      <div></div>
  </div>
  <div class="relative h-full w-full overflow-auto flex flex-col space-y-2 justify-between">
    <div class="flex flex-col w-full rounded shadow-lg bg-white">
      <mat-form-field appearance="outline" class="text-xs w-1/2 mx-auto">
        <mat-label>{{trans['transaction_timkiem']}}</mat-label>
        <input matInput (keyup)="applyFilter($event)" class="w-full" placeholder="{{trans['transaction_timkiem']}}" #input>
        <span matPrefix class="material-icons mr-2">search</span>
        </mat-form-field>
      <div class="mat-elevation-z8 w-full overflow-auto">
        <table class="w-full min-w-[1920px]" mat-table [dataSource]="dataSource" matSort>
          <ng-container matColumnDef="Code">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>{{trans['transaction_code']}}</th>
            <td mat-cell *matCellDef="let row"> 
                #{{row.Code}}
              </td>
          </ng-container>
          <ng-container matColumnDef="Type">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> {{trans['transaction_type']}} </th>
            <td mat-cell *matCellDef="let row"> 
              <ng-container *ngIf="row.Type==1; else elseTemplate">
                {{trans['transaction_type_buy']}}
              </ng-container>
              <ng-template #elseTemplate>
                {{trans['transaction_type_sell']}}
              </ng-template>
            </td>
          </ng-container>                    
          <ng-container matColumnDef="QuantityIn">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>  {{trans['transaction_soluong']}} </th>
            <td mat-cell *matCellDef="let row" class="text-right"> 
                {{row.QuantityIn| number:'1.0-2'||'0'}}
              </td>
          </ng-container>
          <ng-container matColumnDef="Fee">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> {{trans['transaction_phi']}} </th>
            <td mat-cell *matCellDef="let row" class="text-right"> 
                {{row.Fee| number:'1.0-2'||'0'}}
              </td>
          </ng-container>
          <ng-container matColumnDef="QuantityOut">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> {{trans['transaction_tongnhan_tongthanhtoan']}} </th>
            <td mat-cell *matCellDef="let row" class="text-right"> 
                {{row.QuantityOut| number:'1.0-2'||'0'}}
              </td>
          </ng-container>
          <ng-container matColumnDef="TransHash">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> {{trans['transaction_transhash']}} </th>
            <td mat-cell *matCellDef="let row" class="text-right"> 
                {{row.TransHash}}
              </td>
          </ng-container>
          <ng-container matColumnDef="TransIdBank">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> {{trans['transaction_transidbank']}} </th>
            <td mat-cell *matCellDef="let row" class="text-right"> 
                {{row.TransIdBank}}
              </td>
          </ng-container>
          <ng-container matColumnDef="CompanyAccount1">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>{{trans['transaction_CompanyAccount1']}} </th>
            <td mat-cell *matCellDef="let row"> {{row.CompanyAccount1}} </td>
          </ng-container>
          <ng-container matColumnDef="CompanyAccount2">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> {{trans['transaction_CompanyAccount2']}} </th>
            <td mat-cell *matCellDef="let row"> 
              <div class="flex flex-row space-x-2 items-center">
                <img src="{{row.Network.img}}" width="20px">
                <span> {{row.Network.Title}} </span>
                <span>{{row.CompanyAccount2}} </span>
              </div>
            </td>
          </ng-container>
          <ng-container matColumnDef="CustomAccount1">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> {{trans['transaction_CustomAccount1']}} </th>
            <td mat-cell *matCellDef="let row"> {{row.CustomAccount1}} </td>
          </ng-container>
          <ng-container matColumnDef="CustomAccount2">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> {{trans['transaction_CustomAccount2']}} </th>
            <td mat-cell *matCellDef="let row"> 
              <div class="flex flex-row space-x-2 items-center">
                <img src="{{row.Network.img}}" width="20px">
                <span> {{row.Network.Title}} </span>
                <span>{{row.CustomAccount2}}</span>
              </div>
            </td>
          </ng-container>
          <ng-container matColumnDef="Email">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> {{trans['transaction_email']}} </th>
            <td mat-cell *matCellDef="let row"> {{row.Email}} </td>
          </ng-container>
          <ng-container matColumnDef="Content">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> {{trans['transaction_content']}} </th>
            <td mat-cell *matCellDef="let row"> {{row.Content}} </td>
          </ng-container>
          <ng-container matColumnDef="Note">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> {{trans['transaction_note']}} </th>
            <td mat-cell *matCellDef="let row"> {{row.Note}} </td>
          </ng-container>
          <ng-container matColumnDef="Status">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> {{trans['transaction_trangthai']}} </th>
            <td mat-cell *matCellDef="let row"> 
              <mat-slide-toggle [ngModel]="row.Status" class="text-xs" color="primary" (change)="UpdateTT(row)">
                <ng-container *ngIf="row.Status==0; else elseTemplate">
                  {{trans['transaction_waiting']}}
                </ng-container>
                <ng-template #elseTemplate>
                  {{trans['transaction_done']}}
                </ng-template>
              </mat-slide-toggle>
            </td>
          </ng-container>
          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumns;" class="text-white {{row.Type==1?'!bg-green-300 ':'!bg-red-300'}}"></tr>
          <tr class="mat-row" *matNoDataRow>
            <td class="mat-cell" colspan="15">{{trans['transaction_no_match']}} "{{input.value}}"</td>
          </tr>
        </table>
        <mat-paginator [pageSizeOptions]="[5, 10, 25, 100]" [pageSize]="10"></mat-paginator>
      </div>
    </div>
    </div>
</div>


